\documentclass[b5paper]{book}

% Kódování vstupních *.tex souborů
\usepackage[utf8]{inputenc}

% Balíčky pro kreslení
\usepackage{color}
\usepackage[svgnames]{xcolor}
\usepackage{tikz}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{calligraphy}

% Matematická písma a balíčky
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{dsfont}
%\usepackage{esdiff}
\usepackage{eucal}
\usepackage{icomma}

% Nastavení jazyka a písma
\usepackage[czech]{babel}

% Úlohy, definice, lemmata apod.
% https://tex.stackexchange.com/questions/227305/conflict-between-mdframed-and-amsthm-packages-with-the-use-of-czech-babel
% https://tex.stackexchange.com/questions/388960/place-a-footnote-in-an-environment-in-the-bottom-of-the-page
\usepackage{amsthm}
\usepackage[framemethod=default]{mdframed}

\makeatletter
\AtBeginDocument{%
\@ifpackageloaded{amsthm}%
 {%
  \renewrobustcmd\mdf@patchamsthm{%
   \chardef\kludge@catcode@hyphen=\catcode`\-
   \catcode`\-=12
   \let\mdf@deferred@thm@head\deferred@thm@head
   \pretocmd{\deferred@thm@head}{\@inlabelfalse}%
      {\mdf@PackageInfo{mdframed detected package amsthm ^^J%
                        changed the theorem header of amsthm\MessageBreak}%
      }{%
       \mdf@PackageError{mdframed detected package amsthm ^^J%
                         changed the theorem header of amsthm
                         failed\MessageBreak}%
       }%
   \catcode`\-=\kludge@catcode@hyphen
     }%
 }{}%
}

\usepackage{booktabs}
\usepackage{calculator}
\usepackage{etoolbox}
\usepackage[labelfont=bf]{caption}
\usepackage[left=2.5cm, right=2.5cm, top=3cm, bottom=2.5cm]{geometry}
\usepackage{graphicx}

\emergencystretch 3em
\setlength{\parindent}{1cm}
\setlength{\parskip}{0.2cm}
\renewcommand{\baselinestretch}{1.15}
\hyphenchar\font=-1

% Zkratky
\input{prefabs/chapters.tex}
\input{prefabs/mathsyms.tex}
\input{prefabs/theorems.tex}

\title{Matematická analýza}
\author{Michal Douša}
\date{}

\begin{document}
    \colorlet{accentColor}{gray}
    \begin{titlepage}
        \raggedleft
        {\ }
        \vfill
        {\Large Michal Douša}
        \\[1cm]
        {\Huge \scshape Matematická\\analýza}
        \vfill
    \end{titlepage}
    \tableofcontents
    \input{chapters/zaklady/index.tex}
    \input{chapters/limita/index.tex}
    \input{chapters/derivace/index.tex}
    \input{chapters/taylor/index.tex}
    \input{chapters/lhopital/index.tex}
    \input{chapters/vlastnosti-funkce/index.tex}
    \input{chapters/integral/index.tex}
    \input{chapters/reseni/index.tex}
    \listoffigures
    
\end{document}